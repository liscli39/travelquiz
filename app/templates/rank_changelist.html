{% extends "admin/change_list.html" %}
{% load i18n static admin_list %}

{% block object-tools %}
  {% if rank_status == 0 %}  
  <div>
    <form action="{{ action }}" method="POST" style="display: flex;">
      {% csrf_token %}
      <input type="submit" name="_save" class="default" style="float: initial;" value="Cập nhật bảng xếp hạng">
    </form>
    <div style="margin-top: 8px;">
      Số người trả lời đúng: <span style="color: var(--link-selected-fg); font-weight: bold;">{{ completed_count }}</span>
      <span style="font-size: 10px; font-weight: bold;">(Cập nhật lúc: {{ updated_at|date:'d/m/Y h:i a' }})</span>
    </div>
  </div>
  <br />
  {% else %}
  <div>
    <button class="button default" type="button" style="float: initial;" readonly>
      <span class="loader spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
      Đang cập nhật lại (<b>{{ rank_process }}%</b>). Vui lòng tải lại sau ít phút...
    </button>
  </div>
  <br />
  {% endif %}
{% endblock %}
